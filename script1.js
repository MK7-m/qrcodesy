const fs=require("fs");
const path="src/pages/CustomerMenuPage.tsx";
let text=fs.readFileSync(path,"utf8");
const heroStart=text.indexOf("          <RestaurantHero restaurant={restaurant} />");
if(heroStart===-1) throw new Error('hero start not found');
const heroEnd=text.indexOf("      {canOrder && (",heroStart);
if(heroEnd===-1) throw new Error('hero end not found');
const newHeroBlock=`          <RestaurantHero restaurant={restaurant} />\n\n          {isMockMode && (\n            <div class=\"rounded-[24px] border border-emerald-100 bg-emerald-50/70 text-emerald-800 px-5 py-4 flex items-start gap-3 shadow-pill\">\n              <Info className=\"w-5 h-5 mt-0.5\" />\n              <div class=\"text-right space-y-1\">\n                <p class=\"text-sm font-semibold\">تم تحميل بيانات تجريبية لعرض الواجهة فقط</p>\n                <p class=\"text-xs text-emerald-700\">\n                  {mockMessage || 'يتم عرض هذه القائمة لأن الاتصال بقاعدة البيانات غير متاح حالياً أو لا توجد بيانات مهيأة بعد.'}\n                </p>\n              </div>\n            </div>\n          )}\n\n          {plan === 'a' && (\n            <div class=\"bg-amber-50 border border-amber-200 rounded-[20px] px-5 py-3 text-amber-800 text-xs sm:text-sm flex items-start gap-2 shadow-pill\">\n              <Info className=\"w-4 h-4 mt-0.5\" />\n              <p>هذه النسخة للعرض فقط، الطلب متاح فقط في الخطط الأعلى.</p>\n            </div>\n          )}\n\n          {plan === 'b' && (\n            <div class=\"bg-sky-50 border border-sky-200 rounded-[20px] px-5 py-3 text-sky-800 text-xs sm:text-sm flex items-start gap-2 shadow-pill\">\n              <Info className=\"w-4 h-4 mt-0.5\" />\n              <p>خطة داخل الصالة فقط—اطلب عبر الطاولة باستخدام رمز QR.</p>\n            </div>\n          )}\n\n          {isDineIn && tableId && (\n            <div class=\"bg-white/90 border border-primary/20 rounded-[20px] px-5 py-2 text-primary text-sm text-center shadow-pill\">\n              رقم الطاولة: {tableId}\n            </div>\n          )}\n`;
text=text.slice(0,heroStart)+newHeroBlock+text.slice(heroEnd);
const viewMarker="              {viewMode === 'grid' && (";
const planSelector=`              {plan === 'c' && (\n                <div class=\"mb-4 flex flex-wrap items-center justify-between gap-3\">\n                  <p class=\"text-sm font-medium text-slate-700\">طريقة الطلب</p>\n                  <div class=\"flex flex-wrap gap-2 bg-slate-100 rounded-full p-1\">\n                    <button type=\"button\" onClick={() => setSelectedOrderMode('dine-in')} className={\`px-4 py-1.5 rounded-full text-xs sm:text-sm font-semibold transition \${selectedOrderMode === 'dine-in' ? 'bg-white text-primary shadow-pill' : 'text-slate-700 hover:text-primary'}\`}>طلب داخل الصالة</button>\n                    <button type=\"button\" onClick={() => setSelectedOrderMode('delivery')} className={\`px-4 py-1.5 rounded-full text-xs sm:text-sm font-semibold transition \${selectedOrderMode === 'delivery' ? 'bg-white text-primary shadow-pill' : 'text-slate-700 hover:text-primary'}\`}>توصيل</button>\n                    <button type=\"button\" onClick={() => setSelectedOrderMode('pickup')} className={\`px-4 py-1.5 rounded-full text-xs sm:text-sm font-semibold transition \${selectedOrderMode === 'pickup' ? 'bg-white text-primary shadow-pill' : 'text-slate-700 hover:text-primary'}\`}>استلام من المطعم</button>\n                  </div>\n                </div>\n              )}\n`;
if(!text.includes(viewMarker)) throw new Error('view marker missing');
text=text.replace(viewMarker,planSelector+viewMarker);
fs.writeFileSync(path,text,'utf8');
